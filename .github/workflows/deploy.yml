name: GitHub_Pages

on:
 Push:
  branches:
    - main
 pull_request:

jobs:
 deploy:
  runs-on: ubuntu-22.04
  permissions:
    contents: write
  concurrency:
    group: ${{ GitHub.workflow }}-${{ GitHub.ref }}
steps:
    - uses: actions/setup/checkout@v4
    
    - name: Setup Node
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        
    - name: Install Dependencies
      run: npm install
      
    - name: Build
      run: npm run build      
    
    - name: Deploy
      uses: peaceiris/actions-gh-pages@v4
      if: github.ref == 'refs/heads/main' 
      with:
            github_token: ${{ secrets.GITHUB_TOKEN }}
            publish_dir: ./dist